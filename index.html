---
layout: default
title: Home
---
<p id="tagline">Read and write .wav sound files with Ruby</p>
<div class="section">
  <ul id="feature-list">
    <li>
      <h3>Read/Write Common Formats</h3>
      <ul id="format-list">
        <li>PCM Integer &ndash; 8, 16, 24, or 32 bits per sample</li>
        <li>PCM Float &ndash; 32 or 64 bits per sample</li>
        <li>Any number of channels</li>
      </ul>
    </li>
    <li><h3>Seamless Conversions</h3>Convert back and forth between any format the gem supports. Read from an 8-bit mono file as if it were 16-bit stereo. Generate floating point samples, and write them as 16-bit integers.</li>
    <li><h3>Query Metadata</h3>Get the sample format, sample rate, number of channels, number of sample frames, and so forth from a Wave file, even if it&rsquo;s in a format this gem can&rsquo;t read or write.</li>
    <li><h3>Easy to Install</h3>Written in pure Ruby, so no need to compile a separate extension in order to use it.</li>
  </ul>
</div>
<div class="section bg-white">
  <h2 id="example"><a href="#example">For Example</a></h2>
  <p>Let&rsquo;s say you have these three Wave files:</p>
  <ul class="audio-list">
    <li>
      <label><code>one.wav</code>&nbsp;:</label>
      <audio controls>
        <source src="media/one.wav" type="audio/wav">
      </audio>
    </li>
    <li>
      <label><code>two.wav</code>&nbsp;:</label>
      <audio controls>
        <source src="media/two.wav" type="audio/wav">
      </audio>
    </li>
    <li>
      <label><code>three.wav</code>&nbsp;:</label>
      <audio controls>
        <source src="media/three.wav" type="audio/wav">
      </audio>
    </li>
  </ul>
  <p>The program below will concatenate them into one file:</p>
  <ul class="audio-list">
    <li>
      <label><code>one_two_three.wav</code>&nbsp;:</label>
      <audio controls class="inline">
        <source src="media/one_two_three.wav" type="audio/wav">
      </audio>
    </li>
  </ul>
{% highlight ruby %}require "wavefile"
include WaveFile    # To avoid prefixing classes with "WaveFile::"

FILES_TO_APPEND = ["one.wav", "two.wav", "three.wav"]
OUTPUT_FORMAT = Format.new(:stereo, :pcm_16, 44100)

Writer.new("one_two_three.wav", OUTPUT_FORMAT) do |writer|
  FILES_TO_APPEND.each do |file_name|
    Reader.new(file_name).each_buffer do |buffer|
      writer.write(buffer)
    end
  end
end{% endhighlight %}
  <p>Intrigued? Check out <a href="/examples.html">more examples</a>.</p>
  <p>Or, check out the <a href="/getting_started.html">Getting Started</a> guide for a tutorial.</p>
</div>
<div class="section">
  <h2 id="installation"><a href="#installation">Installation</a></h2>
  <p>First, install the WaveFile gem from rubygems.org:<p>
  <pre><code>gem install wavefile</code></pre>
  <p>&hellip;and include it in your Ruby program:</p>
  <pre><code>require "wavefile"</code></pre>
  <p>&hellip;or Gemfile:</p>
  <pre><code>gem "wavefile"</code></pre>
  <p>Note: It&rsquo;s recommended that you use a Ruby version manager such as <a href="https://rvm.io/">rvm</a> or <a href="https://github.com/sstephenson/rbenv/">rbenv</a>. But if using the system Ruby that comes pre-installed on macOS, you should used <code>sudo gem install wavefile</code>. Otherwise you might run into a file permission error.</p>
</div>
